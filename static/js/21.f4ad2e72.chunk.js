"use strict";(self.webpackChunkvin_decoder=self.webpackChunkvin_decoder||[]).push([[21],{7021:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var n=s(2791),r=s(484),c=s(9396),l=s(6674),a=s(184);const i=function(e){let{onDecode:t}=e;const[s,i]=(0,n.useState)(""),[o,d]=(0,n.useState)("");return(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.l0,{onSubmit:e=>{e.preventDefault(),""!==s.trim()?17===s.length?(e=>/^[A-HJ-NPR-Z0-9]{17}$/.test(e))(s)?(d(""),t(s),i("")):d("VIN \u043c\u0456\u0441\u0442\u0438\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0456 \u0441\u0438\u043c\u0432\u043e\u043b\u0438."):d("VIN \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043c\u0456\u0441\u0442\u0438\u0442\u0438 17 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432."):d("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c.")},children:[(0,a.jsx)("input",{type:"text",id:"vin",value:s,onChange:e=>i(e.target.value.toUpperCase()),maxLength:"17",className:".vinSearch_input",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: 1FTFW1CT5DFC10312"}),(0,a.jsx)(l.Z,{variant:"contained",type:"submit",className:".vinSearch_submit",children:(0,a.jsx)(r.uFR,{})})]}),o&&(0,a.jsx)("p",{className:"error",children:o})]})};const o=function(e){let{history:t,onSelect:s}=e;return(0,a.jsxs)(c.Ay,{children:[(0,a.jsx)("h3",{children:"\u041e\u0441\u0442\u0430\u043d\u043d\u0456 \u0437\u0430\u043f\u0438\u0442\u0438:"}),(0,a.jsx)("ul",{children:t.map(((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:()=>s(e),children:e})},t)))})]})};var d=s(1087);const u=function(e){let{results:t}=e;return t&&0!==t.length?(0,a.jsx)("div",{children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:t.map(((e,t)=>e.Value&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)(d.rU,{to:"/variables/".concat(e.VariableId),children:e.Variable})}),(0,a.jsx)("td",{children:e.Value})]},t)))})})}):null};var h=s(2903);const x=function(){const[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),[l,d]=(0,n.useState)("");(0,n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("vinHistory"))||[];t(e)}),[]);const x=async s=>{try{const n=await h.Z.get("https://vpic.nhtsa.dot.gov/api/vehicles/decodevin/".concat(s,"?format=json")),c=n.data.Results.filter((e=>e.Value));r(c),d("");const l=[s,...e.filter((e=>e!==s))];l.length>3&&l.pop(),t(l),localStorage.setItem("vinHistory",JSON.stringify(l))}catch(n){d("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u0456 \u0434\u043e API."),r([])}};return(0,a.jsxs)(c.or,{children:[(0,a.jsx)(i,{onDecode:x}),l&&(0,a.jsx)("p",{className:"error",children:l}),(0,a.jsx)(o,{history:e,onSelect:e=>{x(e)}}),(0,a.jsx)(u,{results:s})]})}}}]);
//# sourceMappingURL=21.f4ad2e72.chunk.js.map